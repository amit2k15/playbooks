# Read content from the file
$fileContent = Get-Content "C:\above.txt"

# Define an array to store unique names
$uniqueNames = @()

# Regex pattern to extract names
$pattern = 'Response time taken for (\S+)'

# Iterate through each line
foreach ($line in $fileContent) {
    if ($line -match $pattern) {
        $name = $matches[1]
        $uniqueNames += @{ "{#NAME}" = $name }
    }
}

# Convert array to JSON format
$jsonOutput = $uniqueNames | ConvertTo-Json

# Display the final JSON output
Write-Output $jsonOutput

UserParameter=custom.discover_names,powershell.exe -NoProfile -ExecutionPolicy Bypass -File "C:\path\to\discover_names.ps1"
